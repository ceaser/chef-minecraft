# This file was generated by Chef for <%= node['fqdn'] %>.
# Do NOT modify this file by hand.

description "start and stop the minecraft-server"

start on runlevel [2345]
stop on runlevel [^2345]

console log
chdir <%= node['minecraft']['install_dir'] %>
setuid <%= node['minecraft']['user'] %>
setgid <%= node['minecraft']['group'] %>

respawn
respawn limit 20 5

exec /usr/bin/java <%= node['minecraft']['java-options'] %> -Xms<%= node['minecraft']['xms'] %> -Xmx<%= node['minecraft']['xmx'] %> -jar <%= minecraft_file(node['minecraft']['url']) %> <%= node['minecraft']['server_opts'] %>
